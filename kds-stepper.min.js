function KdsStepperController(e,t,n,a,s,r,d,i,o,c){function l(){de.selectedIndex=de.selectedIndex||0,p(),f(),u(),c(t),r.nextTick(function(){te(),V(),ne(),de.tabs[de.selectedIndex]&&de.tabs[de.selectedIndex].scope.select(),pe=!0,_()})}function p(){var e=i.$mdTabsTemplate,t=angular.element(oe.data);t.html(e),o(t.contents())(de.parent),delete i.$mdTabsTemplate}function u(){angular.element(n).on("resize",B),e.$on("$destroy",g)}function f(){e.$watch("$mdTabsCtrl.selectedIndex",T)}function m(e,t){var n=i.$normalize("md-"+e);t&&q(e,t),i.$observe(n,function(t){de[e]=t})}function b(e,t){function n(t){de[e]="false"!==t}var a=i.$normalize("md-"+e);t&&q(e,t),i.hasOwnProperty(a)&&n(i[a]),i.$observe(a,n)}function g(){le=!0,angular.element(n).off("resize",B)}function h(e){angular.element(oe.wrapper).toggleClass("md-stretch-tabs",M()),ne()}function k(e){de.shouldCenterTabs=H()}function x(e,t){e!==t&&(angular.forEach(oe.tabs,function(t){t.style.maxWidth=e+"px"}),r.nextTick(de.updateInkBarStyles))}function $(e,t){e!==t&&(de.maxTabWidth=Y(),de.shouldCenterTabs=H(),r.nextTick(function(){de.maxTabWidth=Y(),V(de.selectedIndex)}))}function v(e){t[e?"removeClass":"addClass"]("md-no-tab-content")}function S(t){var n=de.shouldCenterTabs?"":"-"+t+"px";angular.element(oe.paging).css(a.CSS.TRANSFORM,"translate3d("+n+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function C(e,t){e!==t&&oe.tabs[e]&&(V(),Q())}function T(t,n){t!==n&&(de.selectedIndex=z(t),de.lastSelectedIndex=n,de.updateInkBarStyles(),te(),V(t),e.$broadcast("$mdTabsChanged"),de.tabs[n]&&de.tabs[n].scope.deselect(),de.tabs[t]&&de.tabs[t].scope.select())}function I(e){var n=t[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(n,e[0])}function w(){w.watcher||(w.watcher=e.$watch(function(){r.nextTick(function(){w.watcher&&t.prop("offsetParent")&&(w.watcher(),w.watcher=null,B())},!1)}))}function y(e){switch(e.keyCode){case a.KEY_CODE.LEFT_ARROW:e.preventDefault(),J(-1,!0);break;case a.KEY_CODE.RIGHT_ARROW:e.preventDefault(),J(1,!0);break;case a.KEY_CODE.SPACE:case a.KEY_CODE.ENTER:e.preventDefault(),ie||(de.selectedIndex=de.focusIndex)}de.lastClick=!1}function E(e){ie||(de.focusIndex=de.selectedIndex=e),de.lastClick=!0,r.nextTick(function(){de.tabs[e].element.triggerHandler("click")},!1)}function L(e){de.shouldPaginate&&(e.preventDefault(),de.offsetLeft=se(de.offsetLeft-e.wheelDelta))}function P(){var e,t,n=oe.canvas.clientWidth,a=n+de.offsetLeft;for(e=0;e<oe.tabs.length&&(t=oe.tabs[e],!(t.offsetLeft+t.offsetWidth>a));e++);de.offsetLeft=se(t.offsetLeft)}function W(){var e,t;for(e=0;e<oe.tabs.length&&(t=oe.tabs[e],!(t.offsetLeft+t.offsetWidth>=de.offsetLeft));e++);de.offsetLeft=se(t.offsetLeft+t.offsetWidth-oe.canvas.clientWidth)}function B(){de.lastSelectedIndex=de.selectedIndex,de.offsetLeft=se(de.offsetLeft),r.nextTick(function(){de.updateInkBarStyles(),_()})}function A(e){angular.element(oe.inkBar).toggleClass("ng-hide",e)}function D(e){t.toggleClass("md-dynamic-height",e)}function O(e){if(!le){var t=de.selectedIndex,n=de.tabs.splice(e.getIndex(),1)[0];ee(),de.selectedIndex===t&&(n.scope.deselect(),de.tabs[de.selectedIndex]&&de.tabs[de.selectedIndex].scope.select()),r.nextTick(function(){_(),de.offsetLeft=se(de.offsetLeft)})}}function K(e,t){var n=pe,a={getIndex:function(){return de.tabs.indexOf(s)},isActive:function(){return this.getIndex()===de.selectedIndex},isLeft:function(){return this.getIndex()<de.selectedIndex},isRight:function(){return this.getIndex()>de.selectedIndex},shouldRender:function(){return!de.noDisconnect||this.isActive()},hasFocus:function(){return!de.lastClick&&de.hasFocus&&this.getIndex()===de.focusIndex},id:r.nextUid()},s=angular.extend(a,e);return angular.isDefined(t)?de.tabs.splice(t,0,s):de.tabs.push(s),X(),Z(),r.nextTick(function(){_(),n&&de.autoselect&&r.nextTick(function(){r.nextTick(function(){E(de.tabs.indexOf(s))})})}),s}function N(){var e={};return e.wrapper=t[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=t[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=t[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function R(){return de.offsetLeft>0}function F(){var e=oe.tabs[oe.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>oe.canvas.clientWidth+de.offsetLeft}function M(){switch(de.stretchTabs){case"always":return!0;case"never":return!1;default:return!de.shouldPaginate&&n.matchMedia("(max-width: 600px)").matches}}function H(){return de.centerTabs&&!de.shouldPaginate}function j(){if(de.noPagination||!pe)return!1;var e=t.prop("clientWidth");return angular.forEach(N().dummies,function(t){e-=t.offsetWidth}),0>e}function z(e){if(-1===e)return-1;var t,n,a=Math.max(de.tabs.length-e,e);for(t=0;a>=t;t++){if(n=de.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=de.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function q(e,t,n){Object.defineProperty(de,e,{get:function(){return n},set:function(e){var a=n;n=e,t&&t(e,a)}})}function _(){M()||U(),de.maxTabWidth=Y(),de.shouldPaginate=j()}function U(){var e=1;angular.forEach(N().dummies,function(t){e+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)}),angular.element(oe.paging).css("width",Math.ceil(e)+"px")}function Y(){return t.prop("clientWidth")}function G(){var e=de.tabs[de.selectedIndex],t=de.tabs[de.focusIndex];de.tabs=de.tabs.sort(function(e,t){return e.index-t.index}),de.selectedIndex=de.tabs.indexOf(e),de.focusIndex=de.tabs.indexOf(t)}function J(e,t){var n,a=t?"focusIndex":"selectedIndex",s=de[a];for(n=s+e;de.tabs[n]&&de.tabs[n].scope.disabled;n+=e);de.tabs[n]&&(de[a]=n)}function Q(){N().dummies[de.focusIndex].focus()}function V(e){if(null==e&&(e=de.focusIndex),oe.tabs[e]&&!de.shouldCenterTabs){var t=oe.tabs[e],n=t.offsetLeft,a=t.offsetWidth+n;de.offsetLeft=Math.max(de.offsetLeft,se(a-oe.canvas.clientWidth+64)),de.offsetLeft=Math.min(de.offsetLeft,se(n))}}function X(){ce.forEach(function(e){r.nextTick(e)}),ce=[]}function Z(){var e=!1;angular.forEach(de.tabs,function(t){t.template&&(e=!0)}),de.hasContent=e}function ee(){de.selectedIndex=z(de.selectedIndex),de.focusIndex=z(de.focusIndex)}function te(){if(!de.dynamicHeight)return t.css("height","");if(!de.tabs.length)return ce.push(te);var e=oe.contents[de.selectedIndex],n=e?e.offsetHeight:0,a=oe.wrapper.offsetHeight,s=n+a,i=t.prop("clientHeight");if(i!==s){"bottom"===t.attr("md-align-tabs")&&(i-=a,s-=a,void 0!==t.attr("md-border-bottom")&&++i),ie=!0;var o={height:i+"px"},c={height:s+"px"};t.css(o),d(t,{from:o,to:c,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){t.css({transition:"none",height:""}),r.nextTick(function(){t.css("transition","")}),ie=!1})}}function ne(){if(!oe.tabs[de.selectedIndex])return void angular.element(oe.inkBar).css({left:"auto",right:"auto"});if(!de.tabs.length)return ce.push(de.updateInkBarStyles);if(!t.prop("offsetParent"))return w();var e,n=de.selectedIndex,a=oe.paging.offsetWidth,s=oe.tabs[n],d=s.offsetLeft,i=a-d-s.offsetWidth;de.shouldCenterTabs&&(e=Array.prototype.slice.call(oe.tabs).reduce(function(e,t){return e+t.offsetWidth},0),a>e&&r.nextTick(ne,!1)),ae(),angular.element(oe.inkBar).css({left:d+"px",right:i+"px"})}function ae(){var e=de.selectedIndex,t=de.lastSelectedIndex,n=angular.element(oe.inkBar);angular.isNumber(t)&&n.toggleClass("md-left",t>e).toggleClass("md-right",e>t)}function se(e){if(!oe.tabs.length||!de.shouldPaginate)return 0;var t=oe.tabs[oe.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-oe.canvas.clientWidth,e)}function re(e,t){var n={colorElement:angular.element(oe.inkBar)};s.attach(e,t,n)}var de=this,ie=!1,oe=N(),ce=[],le=!1,pe=!1;m("stretchTabs",h),q("focusIndex",C,de.selectedIndex||0),q("offsetLeft",S,0),q("hasContent",v,!1),q("maxTabWidth",x,Y()),q("shouldPaginate",$,!1),b("noInkBar",A),b("dynamicHeight",D),b("noPagination"),b("swipeContent"),b("noDisconnect"),b("autoselect"),b("centerTabs",k,!1),b("enableDisconnect"),de.scope=e,de.parent=e.$parent,de.tabs=[],de.lastSelectedIndex=null,de.hasFocus=!1,de.lastClick=!0,de.shouldCenterTabs=H(),de.updatePagination=r.debounce(_,100),de.redirectFocus=Q,de.attachRipple=re,de.insertTab=K,de.removeTab=O,de.select=E,de.scroll=L,de.nextPage=P,de.previousPage=W,de.keydown=y,de.canPageForward=F,de.canPageBack=R,de.refreshIndex=ee,de.incrementIndex=J,de.getTabElementIndex=I,de.updateInkBarStyles=r.debounce(ne,100),de.updateTabOrder=r.debounce(G,100),l()}function KdsStepper(e,t){return{scope:{currentStep:"=?",isLoading:"=?",loadingMessage:"=?"},restrict:"EA",controller:"KdsStepperController",controllerAs:"$kdsStepperCtrl",bindToController:!0,terminal:!0,template:function(e,t){var n=e.children();return t.$kdsSteps=n,'<kds-steps-message class="feedback-animation" ng-if="$kdsStepperCtrl.isLoading" layout="{{$kdsStepperCtrl.orientation}}" layout-align="left center"><span>{{$kdsStepperCtrl.steps[$kdsStepperCtrl.currentStep].message}}</span></kds-steps-message><kds-steps-wrapper ng-if="!$kdsStepperCtrl.isLoading" layout="{{$kdsStepperCtrl.orientation}}"> </kds-steps-wrapper><kds-steps-content><kds-step-loading class="feedback-animation" ng-if="$kdsStepperCtrl.isLoading" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular></kds-step-loading><kds-step ng-if="$kdsStepperCtrl.checkPage($index)" ng-repeat="step in $kdsStepperCtrl.steps"></kds-step></kds-steps-content>'},link:function(e,n,a,s,r){for(var d,i,o,c=n.contents(),l=a.$kdsSteps,p=[],u=0;u<l.length;u++){d=l[u].getAttribute("label"),l[u].removeAttribute("label");var f=l[u].getAttribute("message")||s.defaultMessage;i=l[u],d=i.getAttribute("label"),i.removeAttribute("label");var m=i.getAttribute("step-optional");o=""==m||1==m,p.push({label:d,elem:i,done:!1,message:f,optional:o})}s.steps=p,t(c)(e)}}}function KdsStepperWrapper(){return{restrict:"E",require:"^kdsStepper",template:function(){return'<kds-step-item flex layout="row" layout-align="center center" ng-repeat="step in $kdsStepperCtrl.steps" ng-disabled="$kdsStepperCtrl.isDisabled(this)" kds-step-done="true" ng-click="$kdsStepperCtrl.changeStepItem($event, this)"ng-class="{active: $index == $kdsStepperCtrl.currentStep}" md-ink-ripple="#aaa"><md-button flex="none" class="md-fab md-mini md-primary"  md-no-ink  aria-label="{{step.attrs.kdsLabel}}"><md-icon md-svg-icon="md-done" ng-show="step.done"></md-icon><md-icon md-svg-icon="md-warning" ng-show="step.warning"></md-icon><md-icon md-svg-icon="md-error" ng-show="step.error"></md-icon><span ng-show="!step.done">{{ ($index + 1) }}</span> </md-button><span flex="none"> {{ step.label ||  $kdsStepperCtrl.stepLabel + ($index+1) }}  </span><span flex style="height: 1px; background:rgba(0,0,0,.15); margin-left: 8px"></span> </kds-step-item>'}}}function kdsStepsContent(){return{restrict:"E",require:"^kdsStepper"}}function KdsStep(e){return{terminal:!0,restrict:"E",require:"^kdsStepper",link:function(t,n,a,s){for(var r=t.$parent.step.elem,d=r.attributes,i=0;i<d.length;i++)a.$set(normalizeName(d[i].name),d[i].value);var o=n.parent().children(),c=(Array.prototype.indexOf.call(o,n[0]),t.$parent.$parent.$parent),l=e(r.innerHTML)(c);n.append(l),t.$watch(function(){return c.$eval(a.stepDone)},function(e,t){s.steps[s.currentStep],e&&!t&&(s.steps[s.currentStep].done=!0,s.currentStep++)}),t.$watch(function(){return c.$eval(a.stepWarning)},function(e,t){e&&(s.steps[s.currentStep].warning=!0)}),t.$watch(function(){return c.$eval(a.stepError)},function(e,t){e&&(s.steps[s.currentStep].error=!0)})}}}function normalizeName(e){var t=e.indexOf("-");if(t>-1){e=e.replace("-","");var n=e[t].toUpperCase();e=e.split(""),e[t]=n,e=e.join("")}return e}!function(e,t,n){"use strict";function a(){function e(e,a,s,r){if(r){var d=r.getTabElementIndex(a),i=n(a,"md-tab-body").remove(),o=n(a,"md-tab-label").remove(),c=r.insertTab({scope:e,parent:e.$parent,index:d,element:a,template:i.html(),label:o.html()},d);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(c.getIndex())}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(a)},function(e){c.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(c)})}}function n(e,n){for(var a=e[0].children,s=0,r=a.length;r>s;s++){var d=a[s];if(d.tagName===n.toUpperCase())return t.element(d)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(a,s){var r=n(a,"md-tab-label"),d=n(a,"md-tab-body");if(0==r.length&&(r=t.element("<md-tab-label></md-tab-label>"),s.label?r.text(s.label):r.append(a.contents()),0==d.length)){var i=a.contents().detach();d=t.element("<md-tab-body></md-tab-body>"),d.append(i)}return a.append(r),d.html()&&a.append(d),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}function s(){return{require:"^?mdTabs",link:function(e,t,n,a){a&&a.attachRipple(e,t)}}}function r(){return{terminal:!0}}function d(e){return{restrict:"A",compile:function(t,n){var a=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){a(e,{$event:t})})})}}}}function i(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$kdsStepperCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$kdsStepperCtrl.canPageBack() }" ng-if="$kdsStepperCtrl.shouldPaginate" ng-click="$kdsStepperCtrl.previousPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$kdsStepperCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$kdsStepperCtrl.canPageForward() }" ng-if="$kdsStepperCtrl.shouldPaginate" ng-click="$kdsStepperCtrl.nextPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $kdsStepperCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$kdsStepperCtrl.tabs[$kdsStepperCtrl.focusIndex].id}}" ng-focus="$kdsStepperCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $kdsStepperCtrl.shouldPaginate, \'md-center-tabs\': $kdsStepperCtrl.shouldCenterTabs }" ng-keydown="$kdsStepperCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $kdsStepperCtrl.shouldCenterTabs }" md-tab-scroll="$kdsStepperCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $kdsStepperCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$kdsStepperCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$kdsStepperCtrl.nextPage()" md-swipe-right="$kdsStepperCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <div class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$kdsStepperCtrl.hasFocus = true" ng-blur="$kdsStepperCtrl.hasFocus = false" ng-repeat="tab in $kdsStepperCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </div> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$kdsStepperCtrl.hasContent && $kdsStepperCtrl.selectedIndex >= 0"> <md-tab-content id="tab-content-{{::tab.id}}" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$kdsStepperCtrl.swipeContent && $kdsStepperCtrl.incrementIndex(1)" md-swipe-right="$kdsStepperCtrl.swipeContent && $kdsStepperCtrl.incrementIndex(-1)" ng-if="$kdsStepperCtrl.hasContent" ng-repeat="(index, tab) in $kdsStepperCtrl.tabs" ng-class="{ \'md-no-transition\': $kdsStepperCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $kdsStepperCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$kdsStepperCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"KdsStepperController",controllerAs:"$kdsStepperCtrl",bindToController:!0}}function o(e,t){function n(n,a,s,r){function d(){n.$watch("connected",function(e){e===!1?i():o()}),n.$on("$destroy",o)}function i(){r.enableDisconnect&&t.disconnectScope(c)}function o(){r.enableDisconnect&&t.reconnectScope(c)}if(r){var c=r.enableDisconnect?n.compileScope.$new():n.compileScope;return a.html(n.template),e(a.contents())(c),a.on("DOMSubtreeModified",function(){r.updatePagination(),r.updateInkBarStyles()}),t.nextTick(d)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("kds.stepper",["material.core","material.components.icon"]),t.module("kds.stepper").directive("mdTab",a),t.module("kds.stepper").directive("mdTabItem",s),t.module("kds.stepper").directive("mdTabLabel",r),t.module("kds.stepper").directive("mdTabScroll",d),d.$inject=["$parse"],t.module("kds.stepper").directive("mdTabs",i),t.module("kds.stepper").directive("mdTabsTemplate",o),o.$inject=["$compile","$mdUtil"]}(window,window.angular),angular.module("kds.stepper").controller("KdsStepperController",KdsStepperController),KdsStepperController.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"],angular.module("kds.stepper").directive("kdsStepper",KdsStepper),KdsStepper.$inject=["$mdTheming","$compile"],angular.module("kds.stepper").directive("kdsStepsWrapper",KdsStepperWrapper),angular.module("kds.stepper").directive("kdsStepsContent",kdsStepsContent),angular.module("kds.stepper").directive("kdsStep",KdsStep),KdsStep.$inject=["$compile"];